## Kines
Friendly Amazon Kinesis Stream Command Line Interface

#### Install
- `pip install kines`

#### Setup 
- `aws configure`

#### Features 
##### List all Kinesis Stream
- `kines ls`
```commandline
> kines ls
Using boto3 version 1.9.230
Found 20 streams.
Status - Stream = Stream with Status. # = OpenShardCount. ğŸ‘¥ = EnhancedConsumerCount. ğŸ•‘ = RetentionPeriod. ğŸ”‘ = EncryptionType.
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ Status - Stream                      â”‚ # â”‚ ğŸ‘¥ â”‚ ğŸ•‘ â”‚ ğŸ”‘   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ â›¹  prod-clickstream                  â”‚ 8 â”‚ 0  â”‚ 24 â”‚ NONE â”‚
â”‚ â›¹  uat-clickstream                   â”‚ 1 â”‚ 0  â”‚ 24 â”‚ NONE â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

##### List Kinesis Stream Shards
- `kines lss -s <stream-name>`
```commandline
> kines lss -s prod-clickstream
Using boto3 version 1.9.230
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ShardId         â”‚ ParentShardId â”‚ AdjacentParentShardId â”‚ % HashKeyRange â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“– 000000000007 â”‚ 000000000003  â”‚                       â”‚ 12.5%          â”‚
â”‚ ğŸ“– 000000000008 â”‚ 000000000003  â”‚                       â”‚ 12.5%          â”‚
â”‚ ğŸ“– 000000000009 â”‚ 000000000004  â”‚                       â”‚ 12.5%          â”‚
â”‚ ğŸ“– 000000000010 â”‚ 000000000004  â”‚                       â”‚ 12.5%          â”‚
â”‚ ğŸ“– 000000000011 â”‚ 000000000005  â”‚                       â”‚ 12.5%          â”‚
â”‚ ğŸ“– 000000000012 â”‚ 000000000005  â”‚                       â”‚ 12.5%          â”‚
â”‚ ğŸ“– 000000000013 â”‚ 000000000006  â”‚                       â”‚ 12.5%          â”‚
â”‚ ğŸ“– 000000000014 â”‚ 000000000006  â”‚                       â”‚ 12.5%          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- For detailed output `kines lss -s <stream-name> -d`
```commandline
> kines lss -s prod-clickstream -d
Using boto3 version 1.9.230
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ShardId         â”‚ ParentShardId â”‚ AdjacentParentShardId â”‚ % HashKeyRange â”‚ StartingHashKey                         â”‚ EndingHashKey                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“– 000000000007 â”‚ 000000000003  â”‚                       â”‚ 12.5%          â”‚ 0                                       â”‚ 42535295865117307932921825928971026431  â”‚
â”‚ ğŸ“– 000000000008 â”‚ 000000000003  â”‚                       â”‚ 12.5%          â”‚ 42535295865117307932921825928971026432  â”‚ 85070591730234615865843651857942052863  â”‚
â”‚ ğŸ“– 000000000009 â”‚ 000000000004  â”‚                       â”‚ 12.5%          â”‚ 85070591730234615865843651857942052864  â”‚ 127605887595351923798765477786913079295 â”‚
â”‚ ğŸ“– 000000000010 â”‚ 000000000004  â”‚                       â”‚ 12.5%          â”‚ 127605887595351923798765477786913079296 â”‚ 170141183460469231731687303715884105727 â”‚
â”‚ ğŸ“– 000000000011 â”‚ 000000000005  â”‚                       â”‚ 12.5%          â”‚ 170141183460469231731687303715884105728 â”‚ 212676479325586539664609129644855132159 â”‚
â”‚ ğŸ“– 000000000012 â”‚ 000000000005  â”‚                       â”‚ 12.5%          â”‚ 212676479325586539664609129644855132160 â”‚ 255211775190703847597530955573826158591 â”‚
â”‚ ğŸ“– 000000000013 â”‚ 000000000006  â”‚                       â”‚ 12.5%          â”‚ 255211775190703847597530955573826158592 â”‚ 297747071055821155530452781502797185023 â”‚
â”‚ ğŸ“– 000000000014 â”‚ 000000000006  â”‚                       â”‚ 12.5%          â”‚ 297747071055821155530452781502797185024 â”‚ 340282366920938463463374607431768211455 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


##### Find shard for partition key
- `kines find -s prod-clickstream -p 123455 -p 8900`
```commandline
> kines find -s prod-clickstream -p 123455 -p 8900
Using boto3 version 1.9.230
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PartitionKey â”‚ MD5PartitionKey                  â”‚ HashKey                                 â”‚ ShardId         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 123455       â”‚ 00c66aaf5f2c3f49946f15c1ad2ea0d3 â”‚ 1030238607790890479260410494606811347   â”‚ ğŸ“– 000000000007 â”‚
â”‚ 8900         â”‚ eedc6ed006e6f49a7010013cc1fd8a3f â”‚ 317500815852337962583846441353507342911 â”‚ ğŸ“– 000000000014 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Get report for your Kinesis Stream
- `kines report -s <stream-name> -h <number-of-hours> -p <metric-period-in-minutes>`
```commandline
kines report -s prod-clickstream -h 3
Using boto3 version 1.9.230
Time = Converted Local Time. IR = IncomingRecords. IS = IncomingSize. IR/Sec = IncomingRecords Per Sec. GR = GetRecords.Records. GR/Sec = GetRecords.Records/Sec. GR/IR = GetRecords/IncomingRecords. WPTE = WriteProvisionedThroughputExceeded. RPTE = ReadProvisionedThroughputExceeded. MAX(IAGM) = MAX(IteratorAgeMilliSeconds).
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Time             â”‚ IR      â”‚ IS        â”‚ IR/Sec â”‚ GR       â”‚ GR/Sec â”‚ GR/IR â”‚ WPTE â”‚ RPTE    â”‚ MAX(IAGM) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2019-09-23 13:30 â”‚ 63564.0 â”‚ 192.4 MB  â”‚ 70.63  â”‚ 444774.0 â”‚ 494.19 â”‚ 7.00  â”‚ 0.0  â”‚ 6.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 13:45 â”‚ 65641.0 â”‚ 198.67 MB â”‚ 72.93  â”‚ 459252.0 â”‚ 510.28 â”‚ 7.00  â”‚ 0.0  â”‚ 7.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 14:00 â”‚ 65451.0 â”‚ 198.45 MB â”‚ 72.72  â”‚ 458541.0 â”‚ 509.49 â”‚ 7.01  â”‚ 0.0  â”‚ 1.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 14:15 â”‚ 66479.0 â”‚ 202.04 MB â”‚ 73.87  â”‚ 465438.0 â”‚ 517.15 â”‚ 7.00  â”‚ 0.0  â”‚ 5.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 14:30 â”‚ 71354.0 â”‚ 216.3 MB  â”‚ 79.28  â”‚ 499529.0 â”‚ 555.03 â”‚ 7.00  â”‚ 0.0  â”‚ 2.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 14:45 â”‚ 71284.0 â”‚ 216.07 MB â”‚ 79.20  â”‚ 498896.0 â”‚ 554.33 â”‚ 7.00  â”‚ 0.0  â”‚ 4.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 15:00 â”‚ 98094.0 â”‚ 293.68 MB â”‚ 108.99 â”‚ 686561.0 â”‚ 762.85 â”‚ 7.00  â”‚ 0.0  â”‚ 8.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 15:15 â”‚ 85521.0 â”‚ 258.77 MB â”‚ 95.02  â”‚ 598670.0 â”‚ 665.19 â”‚ 7.00  â”‚ 0.0  â”‚ 2.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 15:30 â”‚ 78926.0 â”‚ 236.83 MB â”‚ 87.70  â”‚ 552504.0 â”‚ 613.89 â”‚ 7.00  â”‚ 0.0  â”‚ 2.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 15:45 â”‚ 82719.0 â”‚ 251.19 MB â”‚ 91.91  â”‚ 578759.0 â”‚ 643.07 â”‚ 7.00  â”‚ 0.0  â”‚ 14.0 ğŸ”¥ â”‚ 0.0       â”‚
â”‚ 2019-09-23 16:00 â”‚ 75329.0 â”‚ 228.95 MB â”‚ 83.70  â”‚ 527481.0 â”‚ 586.09 â”‚ 7.00  â”‚ 0.0  â”‚ 2.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 16:15 â”‚ 73013.0 â”‚ 221.95 MB â”‚ 81.13  â”‚ 511282.0 â”‚ 568.09 â”‚ 7.00  â”‚ 0.0  â”‚ 5.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 16:30 â”‚ 73048.0 â”‚ 222.1 MB  â”‚ 81.16  â”‚ 511147.0 â”‚ 567.94 â”‚ 7.00  â”‚ 0.0  â”‚ 2.0 ğŸ”¥  â”‚ 0.0       â”‚
â”‚ 2019-09-23 16:45 â”‚ 54229.0 â”‚ 165.09 MB â”‚ 60.25  â”‚ 379756.0 â”‚ 421.95 â”‚ 7.00  â”‚ 0.0  â”‚ 2.0 ğŸ”¥  â”‚ 0.0       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### How to build in Dev?
- `venv/bin/kines_cli`
- `. venv/bin/activate`
- `pip install --editable .`

#### How to publish to pypi?
- `python3 setup.py sdist bdist_wheel`
- `twine upload --skip-existing dist/*`
